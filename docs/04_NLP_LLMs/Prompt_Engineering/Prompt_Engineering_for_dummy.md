# 提示词工程 - 小白版

> **一句话秒懂**: 提示词工程就像学会"问对问题"——你问得越清楚,AI 回答得越好。这是零成本让 ChatGPT 变聪明的技巧!

---

## 你将学到什么

通过这篇文章,你能够:
- 🎯 理解为什么同样的问题,不同问法效果差10倍
- 💡 掌握 Zero-shot、Few-shot、Chain-of-Thought 三大技巧
- 🚀 学会写出高质量 Prompt(提示词)
- 🔧 用生活例子理解提示词的设计原则
- 💰 知道如何不花钱微调,只靠 Prompt 就能优化 AI

---

## 为什么这个很重要?

### 🎬 从问路说起

你在陌生城市找餐厅:

#### 问法1 (差提示词):
```
你: "哪有吃的?"
路人: "呃...到处都有啊..."(没帮上忙)
```

#### 问法2 (好提示词):
```
你: "请问附近500米内有没有人均100元左右的川菜馆?
     最好有停车位,适合5个人聚餐的。"
路人: "有!前面路口左转200米有家'蜀香园',
     人均80,有停车场,环境很好!"(超有用!)
```

**区别在哪?**
- 问法1: 太模糊
- 问法2: 明确目标、约束条件、输出要求

**和 AI 对话也是一样!**

---

## 核心概念

### 1. 什么是 Prompt (提示词)?

#### **生活中的例子**:

Prompt = 你给 AI 的"指令包"

就像你去理发店:
- **差指令**: "帮我剪头发"  
  → 理发师: "怎么剪?" (效果随缘)

- **好指令**: "两边推短(6mm),上面留长(3cm),刘海斜分,
  参考这张照片的风格,保留一些层次感"  
  → 理发师: "明白!" (效果达到预期)

#### **Prompt 的组成部分**:

```
【完整的 Prompt 结构】

1. 角色设定 (Role)
   "你是一位资深的Python工程师"

2. 任务指令 (Task)
   "请分析以下代码的性能瓶颈"

3. 上下文 (Context)
   "这是一个处理百万级数据的脚本"
   [贴上代码]

4. 示例 (Examples) - 可选
   "期望输出格式如下:
    问题1: ...
    建议: ..."

5. 输出要求 (Format)
   "请用Markdown表格列出3个主要问题"
```

#### **记住这个**:

好 Prompt = 清晰的角色 + 明确的任务 + 必要的上下文 + 格式要求

---

### 2. Zero-shot (零样本) - 直接提问

#### **生活中的例子**:

你去问陌生人问题:
```
你: "请把这句话翻译成英文: 我爱自然语言处理"
陌生人: "I love natural language processing"
```

**没有给任何例子**,直接让 AI 做事。

#### **适用场景**:

- ✅ 简单任务: 翻译、摘要、简单分类
- ✅ 模型很大: GPT-4 级别(见多识广)
- ❌ 复杂任务: 可能理解不准确
- ❌ 模型很小: 可能不知道怎么做

#### **示例**:

```
【差 Zero-shot】
Prompt: "分析这个"
       [贴一大段代码]

问题: AI不知道你要分析什么


【好 Zero-shot】
Prompt: "你是一位代码审查专家。
        请从性能、可读性、安全性三个角度
        分析以下Python代码,
        用表格列出问题和改进建议。"
       [贴代码]

结果: AI 知道要干啥,输出清晰!
```

---

### 3. Few-shot (少样本) - 给几个例子

#### **生活中的例子**:

你教小朋友分类动物:

**Zero-shot (不给例子)**:
```
你: "蝙蝠是哺乳动物还是鸟类?"
小朋友: "会飞...应该是鸟吧?" ✗
```

**Few-shot (给例子)**:
```
你: "看例子学分类:
    - 猫: 哺乳动物 (胎生、喂奶)
    - 鸽子: 鸟类 (卵生、有羽毛)
    - 鲸鱼: 哺乳动物 (胎生、喂奶)
    
    现在判断: 蝙蝠是哺乳动物还是鸟类?"
小朋友: "哺乳动物! 因为胎生喂奶!" ✓
```

#### **Few-shot 的威力**:

```
任务: 情感分析

【Zero-shot - 效果一般】
Prompt: "判断评论是正面还是负面:
        '这手机电池太耐用了!'"
输出: "正面"

Prompt: "判断评论是正面还是负面:
        '电池还行吧...'"
输出: "正面" ✗ (误判!其实是中性)


【Few-shot - 效果好】
Prompt: 
  "评论: '相机太棒了,拍照清晰!' → 正面
   评论: '相机凑合,能用' → 中性
   评论: '相机太差,根本没法用' → 负面
   
   评论: '电池还行吧...' → ?"
输出: "中性" ✓ (学会了!)
```

#### **记住这个**:

- 给 **2-5 个例子**效果最好
- 例子要**多样化**(覆盖不同情况)
- 最后一个例子的影响最大

---

### 4. Chain-of-Thought (思维链) - 让 AI "展示思考过程"

#### **生活中的例子**:

小学数学题:

**直接问答 (Zero-shot)**:
```
题目: "小明有15个苹果,吃了7个,
      又买了12个,现在有多少个?"
小学生: "24个!" (可能是瞎猜的)
```

**展示思考过程 (CoT)**:
```
题目: 同上
小学生: "让我一步步想:
        1. 开始: 15个
        2. 吃了7个: 15-7=8个
        3. 买了12个: 8+12=20个
        答案: 20个"
```

**在 AI 中的应用**:

```
【没有 CoT - 容易错】
Prompt: "一个数加3等于12,这个数是多少?"
AI: "15" ✗ (算错了!)


【有 CoT - 逻辑清晰】
Prompt: "一个数加3等于12,这个数是多少?
        让我们一步步思考:"
        
AI: "第1步: 设这个数为 x
     第2步: 根据题意 x + 3 = 12
     第3步: 两边同时减3: x = 12 - 3
     第4步: 计算: x = 9
     答案: 9" ✓
```

#### **魔法咒语**: "Let's think step by step"

研究发现,只需在问题后加这句话,AI 就会自动展示思考步骤!

```
Prompt: "23 × 17 = ?
        Let's think step by step."
        
AI: "1. 分解: 23 × 17 = 23 × (10 + 7)
     2. 计算: 23 × 10 = 230
     3. 计算: 23 × 7 = 161
     4. 相加: 230 + 161 = 391
     答案: 391" ✓
```

#### **记住这个**:

- CoT 对**数学、逻辑、推理**任务效果显著
- 在 GPT-3.5/GPT-4 级别模型上最有效
- 小模型(< 10B参数)可能反而变差

---

### 5. 结构化输出 - 让 AI 输出固定格式

#### **生活中的例子**:

你让同事整理资料:

**差指令**:
```
你: "帮我整理一下这些客户信息"
同事: "好的!" 
     → 每个人用不同格式,乱七八糟
```

**好指令**:
```
你: "按这个格式整理:
    姓名 | 电话 | 邮箱 | 城市
    ----|------|------|-----
    (表格形式)"
同事: "明白!" 
     → 统一格式,方便处理
```

#### **在 AI 中的应用**:

```
【无格式约束 - 输出不稳定】
Prompt: "提取这句话里的人名和地点:
        '李明在北京工作,周末去上海旅游'"
        
AI: "人名是李明,地点有北京和上海" 
    (无法直接用代码处理!)


【指定 JSON 格式 - 输出规范】
Prompt: "提取人名和地点,用JSON格式输出:
        {
          'persons': [],
          'locations': []
        }
        
        句子: '李明在北京工作,周末去上海旅游'"
        
AI: {
      "persons": ["李明"],
      "locations": ["北京", "上海"]
    }
    (可以直接用代码处理!)
```

#### **常用输出格式**:

- **JSON**: 程序处理
- **Markdown 表格**: 人类阅读
- **CSV**: 导入 Excel
- **代码块**: 程序代码

---

## 图解理解

### Prompt 质量对比

```
【差 Prompt】
"写个文章"
  ↓ AI内心OS: 
  "写啥? 多长? 给谁看? 什么风格?"
  ↓ 随便写
输出: 质量随缘


【好 Prompt】
"写一篇800字的科普文章,
 主题是'大语言模型如何工作',
 目标读者是高中生,
 语言要通俗易懂,
 包含3个生活中的类比例子"
  ↓ AI明白了!
输出: 符合要求的高质量文章
```

### 三种提示策略对比

```
【Zero-shot】
任务 → AI → 输出
(无示例,依赖 AI 预训练知识)

适合: 简单任务


【Few-shot】
例子1 → 
例子2 →  AI → 输出
例子3 → 
任务 → 
(给示例,AI 学习模式)

适合: 中等难度任务


【Chain-of-Thought】
任务 → 
"Let's think step by step" → 
AI → 思考步骤 → 答案
(引导逐步推理)

适合: 复杂推理任务
```

---

## 常见问题

### Q1: 为什么同样的问题,换个问法效果差这么多?

**A**: 

AI 不是"理解"你的意思,而是"根据文字模式"生成回复。

**例子**:
```
差问法: "帮我"
AI内心: "帮啥?太模糊了...随便说点吧"

好问法: "请扮演Python专家,分析这段代码的时间复杂度"
AI内心: "哦!要当Python专家,分析复杂度,明确了!"
```

**关键**: 越明确的指令 → AI 越知道怎么回复

### Q2: Few-shot 给多少个例子最好?

**A**: 

**研究结论**: **2-5个例子**最佳

```
0个例子: 可能理解错
1个例子: 容易过拟合(照搬这个例子)
2-5个例子: ✓ 最佳 (学到规律)
10+个例子: 浪费,而且可能超出上下文长度限制
```

**例外**: 如果任务非常复杂,可以给更多

### Q3: Chain-of-Thought 对所有任务都有效吗?

**A**: 不是!

**有效的任务**:
- ✅ 数学计算
- ✅ 逻辑推理
- ✅ 多步骤问题

**无效甚至有害的任务**:
- ❌ 简单分类("这是正面还是负面评论?")
- ❌ 直接事实查询("首都是哪?")
- ❌ 创意写作(思考步骤会破坏灵感)

**规律**: 需要"推理"的任务用 CoT,直接的任务别用!

### Q4: 如何避免 AI "胡说八道"?

**A**: 

**AI 胡说的原因**:
- 训练数据有错
- 强行编造填补空白(幻觉)
- 理解错误

**预防方法**:

1. **要求引用来源**
```
Prompt: "根据以下资料回答问题,
        如果资料里没有,请说'不知道'
        不要编造。
        
        资料: [你的文档]
        问题: ..."
```

2. **要求分步骤思考** (CoT)
```
Prompt: "逐步分析并解释你的推理过程"
```

3. **多次询问取共识**
```
问同一个问题3次,
如果3次答案一致 → 可能正确
如果3次答案不同 → 可能在瞎猜
```

### Q5: Prompt Engineering 和微调怎么选?

**A**: 

```
【选择决策树】

你有多少标注数据?
  │
  ├─ <50条
  │  → Prompt Engineering
  │     (用Few-shot示例)
  │
  ├─ 50-1000条
  │  → Prompt + 尝试微调
  │     (看哪个效果好)
  │
  └─ >1000条
     → 微调
        (效果更稳定)

预算?
  │
  ├─ 0元
  │  → Prompt (免费!)
  │
  └─ 有预算
     → 微调 (更专业)
```

**实际建议**: 
1. 先优化 Prompt(零成本)
2. 不够再考虑微调

---

## 实战技巧

### 技巧1: 角色扮演

让 AI 扮演特定角色:

```
差: "帮我看看这个代码"

好: "你是一位有15年经验的资深后端工程师,
    擅长性能优化和代码审查。
    请用专家的眼光分析以下代码..."
```

### 技巧2: 分步引导

复杂任务拆分:

```
差: "帮我做市场分析报告"
   (太笼统,AI无从下手)

好: 
  第1步: "列出手机市场的5个主要竞争对手"
  第2步: "对比这5个品牌的价格区间"
  第3步: "分析每个品牌的优劣势"
  第4步: "根据以上分析,写一份500字摘要"
```

### 技巧3: 约束条件

明确限制:

```
"写一首诗,要求:
 - 主题: 春天
 - 形式: 七言绝句
 - 押韵: 平仄押韵
 - 风格: 模仿李白
 - 不要出现: '花'字"
```

### 技巧4: 负面指令要谨慎

```
差: "不要写得太长" (AI对否定词理解差)

好: "控制在200字以内" (明确正向要求)
```

---

## 想深入了解?

### 📚 推荐学习路径

1. **本文 (你现在在这)**: 理解 Prompt 的基本概念
2. **实践**: 每天和 ChatGPT 聊天,尝试不同 Prompt
3. **进阶**: 学习 LangChain 等 Prompt 管理工具
4. **[原版技术文档](./Prompt_Engineering.md)**: 深入技术细节

### 🔗 相关内容

- **基础知识**: [大语言模型架构 (小白版)](../LLM_Architectures/LLM_Architectures_for_dummy.md)
- **进阶技能**: [微调技术 (小白版)](../Fine_tuning_Techniques/Fine_tuning_Techniques_for_dummy.md)
- **实战应用**: [RAG 系统 (小白版)](../../07_AI_Engineering/RAG_Systems/RAG_Systems_for_dummy.md)

---

## 总结: 记住这5个要点

1. **好 Prompt = 清晰指令**  
   告诉 AI: 扮演什么角色,做什么任务,怎么输出

2. **Few-shot = 给例子学习**  
   2-5个示例让 AI 理解你的要求

3. **CoT = 让 AI 展示思考**  
   加"Let's think step by step"就能激活推理能力

4. **结构化输出 = 指定格式**  
   用 JSON/表格等格式,方便程序处理

5. **Prompt 优先于微调**  
   先优化问法(免费),不够再微调(要钱)

---

**🎉 恭喜你!** 你现在掌握了零成本让 AI 变聪明的技巧! 去试试这些方法,你会发现 ChatGPT 比你想象中更强大!

*本文是 [Prompt_Engineering.md](./Prompt_Engineering.md) 的简化版,适合零基础读者。*

---

**🚀 实践建议**:

今天就试试:
1. 打开 ChatGPT
2. 试试 Few-shot(给几个例子)
3. 试试 CoT(加"Let's think step by step")
4. 对比差 Prompt 和好 Prompt 的效果

**你会惊讶于区别有多大!**

---

*最后更新: 2026-02-10*
